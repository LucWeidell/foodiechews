import{g as e,a as t,c as a,p as s,k as o,b as l,d as n,e as c,f as r,F as i,h as d,l as u,A as h,D as g,j as p,t as b}from"./vendor.a06d263d.js";import{A as m,l as y,y as S,P as f}from"./index.92059fbb.js";const k=["$","$$","$$$","$$$$"],v=["Food","Afghan","African","Arabian","Armenian","Australian","Baguettes","Belgian","Bistros","Brazilian","breakfast_brunch","British","Burgers","Cafes","Caribbean","Cheesesteaks","Chinese","Diners","Dumplings","Hotdogs","Fondue","Food Stands","French","German","Greek","Hot Pot","Irish","Italian","Japanese","Korean","Latin","Mediterranean","Mexican","Mongolian","New Zealand","Pakistani","Pizza","Polish","Portuguese","Pub Food","Russian","Scottish","Seafood","Southern","Spanish","Steak","Thai"],x=["Vegan","Vegetarian"];const w={name:"SearchPage",router:e(),setup(){const e=t({priceSet:{},categoriesSelect:{},restaurants:a((()=>m.searchRestsList)),searchingStarted:!1});return{state:e,prices:k,healthies:x,categories:v,loading:a((()=>m.loading)),async filterSearch(){m.loading=!0;try{let t="",a="";Object.keys(e.categoriesSelect).forEach((a=>{!0===e.categoriesSelect[a]&&(t+=a.toLowerCase()+",")})),t=t.substr(0,t.length-1);const s={categories:t};Object.keys(e.priceSet).forEach((t=>{!0===e.priceSet[t]&&(a+=t.length+",")})),a=a.substr(0,a.length-1),s.price=a.length,s.city=m.account.activeLocation.city,s.state=m.account.activeLocation.state,y.log("This is the categories select:",e.categoriesSelect),y.log("raw Query:",s),await S.getByYelpId("search",s),e.searchingStarted=!0}catch(t){f.toast("Please Retry there is no results for these filters","error")}m.loading=!1}}}},j=u();s("data-v-72eeab18");const P={key:1,class:"SearchPage container-fluid",id:"bg-img"},$={key:0,class:"row justify-content-around py-4"},B=r("div",{class:"col-sm-12"},[r("h5",{class:"m-3 text-center text-light"}," Filter Your Search: ")],-1),C={class:"col-9 bg-bootSec text-dark shadow-sm mb-2 mt-1 rounded"},V=r("h6",{class:"pt-4"},[r("b",null,"Whats Your Budget?")],-1),A=r("small",null,[r("i",null,"Note - choose only one of the options")],-1),F={class:"form-group"},L={class:"col-9"},R={class:"col-9 bg-bootSec text-dark shadow-sm mb-2 rounded"},U=r("h6",{class:"pt-4"},[r("b",null,"Dietary Requirement?")],-1),D={class:"form-group"},I={class:"col-9"},_={class:"col-9 bg-bootSec text-dark shadow-sm mb-2 rounded pb-2"},z=r("h6",{class:"pt-4"},[r("b",null,"Craving Something Specific?")],-1),M=r("small",null,[r("i",null,"Note - choose only one of the options")],-1),N={class:"form-group"},Y={class:"col-lg-12 col-md-9 col-sm-6"},E={class:"col-9"},G={class:"row",style:{"justify-content":"center"}},H=r("i",null,"Search",-1),O={key:1,class:"row justify-content-around my-4"},T={class:"col-11"},q={class:"row m-2 mb-1 p-2 pb-2",style:{"justify-content":"center"}},J=r("h5",{class:"text-center text-light"}," Search Results: ",-1),K={class:"row",style:{"justify-content":"center"}},Q=r("i",null,"Search",-1);o();const W=j(((e,t,a,s,o,u)=>{const m=l("LoadingSpinner"),y=l("RestaurantSearchShort");return s.loading?(n(),c(m,{key:0})):(n(),c("div",P,[s.state.searchingStarted?(n(),c("div",O,[r("div",T,[r("div",q,[J,(n(!0),c(i,null,d(s.state.restaurants,(e=>(n(),c(y,{key:e._id,restaurant:e},null,8,["restaurant"])))),128))]),r("div",K,[r("button",{type:"button",class:"btn btn-secondary shadow",style:{"text-shadow":"1px 1px blue justify-content: center"},onClick:t[2]||(t[2]=(...e)=>s.filterSearch&&s.filterSearch(...e))},[Q])])])])):(n(),c("div",$,[B,r("div",C,[V,A,r("div",F,[r("div",L,[(n(!0),c(i,null,d(s.prices,((t,a)=>(n(),c("label",{key:a,class:"checkbox-inline pr-3 pl-3",for:e.type},[h(r("input",{type:"checkbox",name:t.length,id:t.length,class:"form-check-input","onUpdate:modelValue":e=>s.state.priceSet[t]=e},null,8,["name","id","onUpdate:modelValue"]),[[g,s.state.priceSet[t]]]),p(" "+b(t),1)],8,["for"])))),128))])])]),r("div",R,[U,r("div",D,[r("div",I,[(n(!0),c(i,null,d(s.healthies,((e,t)=>(n(),c("label",{key:t,class:"checkbox-inline pr-3",for:e},[h(r("input",{type:"checkbox",name:e,id:e,"onUpdate:modelValue":t=>s.state.categoriesSelect[e]=t},null,8,["name","id","onUpdate:modelValue"]),[[g,s.state.categoriesSelect[e]]]),p(" "+b(e),1)],8,["for"])))),128))])])]),r("div",_,[z,M,r("div",N,[r("div",Y,[(n(!0),c(i,null,d(s.categories,((e,t)=>(n(),c("label",{key:t,class:"checkbox-inline pr-3",for:e},[h(r("input",{type:"checkbox",name:e,id:e,"onUpdate:modelValue":t=>s.state.categoriesSelect[e]=t},null,8,["name","id","onUpdate:modelValue"]),[[g,s.state.categoriesSelect[e]]]),p(" "+b(e),1)],8,["for"])))),128))])])]),r("div",E,[r("div",G,[r("button",{type:"button",class:"btn btn-secondary shadow",style:{"text-shadow":"1px 1px blue justify-content: center"},onClick:t[1]||(t[1]=(...e)=>s.filterSearch&&s.filterSearch(...e))},[H])])])]))]))}));w.render=W,w.__scopeId="data-v-72eeab18";export default w;
